var echo=function(t){console&&console.info(t)};!function(t){function n(t){var n=t.singleton,r=function(){var t=this,e=arguments;if(n){if(r.singleton)return r.singleton;r.singleton=t}return t.mixins={},i(r.mixins,function(n){n.prototype.initialize&&n.prototype.initialize.apply(t,e),n.prototype.name&&(t.mixins[n.prototype.name]=n.prototype)}),t.initialize&&t.initialize.apply(t,arguments)||t},s={};return i(c,function(n){a[n](r,t[n],n)}),e(t,function(t,n){a[t]||(s[t]=n)}),o.call(r.prototype,s),r}var e=function(n,e,i){for(var o in n)n.hasOwnProperty(o)&&e.call(i||t,o,n[o])},i=Array.prototype.forEach?function(t,n){Array.prototype.forEach.call(t||[],n)}:function(t,n){for(var e=0,i=t&&t.length||0;i>e;e++)n.call(window,t[e],e)},o=function(t,n){e(t,function(t,e){var i=this[t];i&&n===!0||(this[t]=e,"function"==typeof e&&(e.$name=t,e.$owner=this,i&&(e.$prev=i)))},this)},r=function(n){var e=t,o=n&&n.split(".")||[];return i(o,function(t){t&&(e=e[t]||(e[t]={}))}),e},s=function(){};s.mixin=function(t){return this.mixins.push(t),o.call(this.prototype,t.prototype,!0),this},s.implement=function(t){return o.call(this.prototype,t),this},s.prototype.implement=function(t){return o.call(this,t),this},s.prototype.parent=function(){var t=this.parent.caller,n=t.$prev;if(n)return n.apply(this,arguments);throw new Error("can not call parent")};var a={statics:function(t,n){e(n,function(n,e){t[n]=e})},extend:function(t,n){{var n=n||s,i=t.prototype,o=n.prototype;t.mixins=[]}n.mixins&&t.mixins.push.apply(t.mixins,n.mixins),e(n,function(n,e){t[n]=e}),e(o,function(t,n){i[t]=n}),t.superclass=i.superclass=n},mixins:function(t,n){i(n,function(n){t.mixin(n)})}},c=["statics","extend","mixins"];n.utils={object:{each:e},array:{forEach:i},ns:r},n.define=function(t,e){if(t){var i=t&&t.lastIndexOf(".")||-1;return r(-1===i?null:t.substr(0,i))[t.substr(i+1)]=new n(e)}throw new Error("empty class name!")},t.Class=n}(window),function(){Class.define("plugin.Base",{statics:{main:function(t){var n,e,i=this;t=t||{},t.$root&&(n=t.$root,delete t.$root),t.extend=i;var e=new Class(t);return new e(n)}},initialize:function(t){this.v_setRootNode(t),this.v_bindEvent()},v_eventBindType:function(){return"click focusin focusout change keyup keydown mousedown mouseup mousemove mouseout"},v_bindEvent:function(){var t=this;$(t.$root).delegate(t._v_selectot(),t.v_eventBindType(),function(n){var e=$(this);$.each(t._v_getSelectorKey(e),function(i,o){var r=o+"_"+n.type;t[r]&&(t.p_defaultEvent(n),t[r].call(t,n,e))})})},v_selector:function(){return"[id],[name],[data-name]"},_v_selectot:function(){return $.map(this.v_selector().split(","),function(t){return t.split("|")[0]}).join(",")},v_getRootNode:function(){return null},v_setRootNode:function(t){var n=this;this.$root=$(t||n.v_getRootNode()||document)},_v_getSelectorKey:function(t,n){n=n||this.v_selector().split(",");for(var e,i,o,r,s=[],a=0,c=n.length;c>a;a++)i=n[a].split("|"),r=i[0],o=i[1],t.is(r)&&(e=r.match(/\[(\w+)\]/),s.push(e&&$.inArray(e[1],["id","name","data-name"])>-1?t.attr(e[1]):o?o:r.replace(/\./g,"class_").replace(/#/g,"id_").replace(/\[(\w+)\]/g,"attr_$1").replace(/[\W]+/g,"_")));return s},p_defaultEvent:function(t){t.stopPropagation(),$(t.target).is("a")&&t.preventDefault()},find:function(t,n){return $(t,n||this.$root)}})}();